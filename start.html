<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我们的爱情</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffcce6 0%, #c9e6ff 100%);
            color: #5c3a6d;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .deer-svg {
            width: 100px;
            height: 100px;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: #ff2a70;
            opacity: 0.7;
            animation: fall 8s linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-10%) rotate(0deg);
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .title {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
            color: #8a4f7d;
            background: linear-gradient(to right, #8a4f7d, #5c3a6d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            font-weight: 300;
            color: #5c3a6d;
        }

        .deer-fish-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .deer, .fish {
            text-align: center;
            max-width: 300px;
            padding: 20px;
        }

        .deer-icon, .fish-icon {
            font-size: 5rem;
            margin-bottom: 15px;
            display: block;
            height: 120px;
        }

        .deer-icon {
            color: #a67f8e;
            animation: bounce 3s infinite;
        }

        .fish-icon {
            color: #4a7eb0;
            animation: swim 4s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes swim {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(15px); }
        }

        .deer h3, .fish h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: #5c3a6d;
        }

        .deer p, .fish p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #5c3a6d;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }

        .countdown-item {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(5px);
            box-shadow: 0 8px 16px rgba(138, 79, 125, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .digits-container {
            display: flex;
            gap: 5px;
            justify-content: center;
            margin-bottom: 10px;
        }

        .digit-flip {
            position: relative;
            width: 45px;
            height: 60px;
            overflow: hidden;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .digit {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            font-weight: bold;
            color: #8a4f7d;
            transition: transform 0.5s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .countdown-label {
            font-size: 1rem;
            color: #5c3a6d;
            font-weight: 500;
        }

        .love-letter {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            line-height: 1.8;
            font-size: 1.2rem;
            backdrop-filter: blur(5px);
            box-shadow: 0 8px 32px rgba(138, 79, 125, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
            color: #5c3a6d;
            position: relative;
            overflow: hidden;
        }

        .love-letter::before {
            content: "";
            position: absolute;
            top: -50px;
            right: -50px;
            width: 150px;
            height: 150px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84z" fill="%23ff99cc"/></svg>') no-repeat;
            background-size: contain;
            opacity: 0.2;
            transform: rotate(15deg);
            z-index: 0;
        }

        .love-letter h2 {
            text-align: center;
            margin-bottom: 25px;
            color: #8a4f7d;
            font-size: 2rem;
            position: relative;
            z-index: 1;
        }

        .love-letter p {
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .photo-item {
            border-radius: 15px;
            overflow: hidden;
            height: 280px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 10px 20px rgba(138, 79, 125, 0.3);
            border: 3px solid white;
        }

        .photo-item:hover {
            transform: scale(1.05);
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(138, 79, 125, 0.8);
            color: white;
            padding: 15px;
            text-align: center;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            font-weight: 500;
        }

        .photo-item:hover .photo-caption {
            transform: translateY(0);
        }

        /* 修改后的甜蜜回忆板块样式 */
        .memories-section {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            backdrop-filter: blur(5px);
            box-shadow: 0 8px 32px rgba(138, 79, 125, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .memories-section h2 {
            text-align: center;
            margin-bottom: 25px;
            color: #8a4f7d;
            font-size: 2.2rem;
        }

        /* 回忆入口样式 */
        .memories-portal {
            background: linear-gradient(135deg, rgba(255, 230, 240, 0.8), rgba(220, 240, 255, 0.8));
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 30px rgba(138, 79, 125, 0.2);
            border: 3px solid rgba(255, 255, 255, 0.9);
            position: relative;
            overflow: hidden;
        }

        .memories-portal::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
            transition: all 0.7s ease;
        }

        .memories-portal:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 35px rgba(138, 79, 125, 0.3);
        }

        .memories-portal:hover::before {
            top: 150%;
            left: 150%;
        }

        .portal-icon {
            font-size: 5rem;
            color: #8a4f7d;
            margin-bottom: 25px;
            transition: transform 0.5s ease;
        }

        .memories-portal:hover .portal-icon {
            transform: rotate(10deg) scale(1.1);
        }

        .portal-content h3 {
            font-size: 1.8rem;
            color: #5c3a6d;
            margin-bottom: 15px;
        }

        .portal-content p {
            font-size: 1.1rem;
            color: #5c3a6d;
            max-width: 600px;
            margin: 0 auto 25px;
            opacity: 0.9;
        }

        .enter-arrow {
            display: inline-block;
            background: linear-gradient(to right, #8a4f7d, #a67f8e);
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(138, 79, 125, 0.3);
        }

        /* 专属情歌库核心样式 */
        .love-songs-library {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            backdrop-filter: blur(5px);
            box-shadow: 0 8px 32px rgba(138, 79, 125, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
            position: relative;
        }

        .love-songs-library::before {
            content: "";
            position: absolute;
            top: -30px;
            left: -30px;
            width: 120px;
            height: 120px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M313.4 32.9c26 4.2 47.4 26.6 47.4 53.9v1.3c0 28.5-18.7 52.1-44.9 60.4l-121.3 45.5c-25.4 9.6-54.2 9.6-79.6 0L44.9 148.5C18.7 139.3 0 115.6 0 87.1V85.8c0-27.3 21.5-49.7 47.4-53.9 28.8-4.6 58.9 11.5 68.9 39.9l15.9 46.2a16 16 0 0 0 15 10.9h91.8a16 16 0 0 0 15-10.9l15.9-46.2c10-28.4 40.1-44.5 68.9-39.9zM160 320c-17.7 0-32 14.3-32 32v128c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32zm192 0c-17.7 0-32 14.3-32 32v128c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32z" fill="%23ff99cc"/></svg>') no-repeat;
            background-size: contain;
            opacity: 0.2;
            transform: rotate(-15deg);
            z-index: 0;
        }

        .library-header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }

        .library-header h2 {
            font-size: 2.2rem;
            color: #8a4f7d;
            margin-bottom: 10px;
        }

        .library-header p {
            font-size: 1.1rem;
            color: #5c3a6d;
            opacity: 0.9;
        }

        .songs-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }

        .tab-btn {
            background: rgba(255, 240, 245, 0.8);
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            color: #5c3a6d;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(138, 79, 125, 0.1);
        }

        .tab-btn.active {
            background: linear-gradient(to right, #a67f8e, #8a4f7d);
            color: white;
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.3);
        }

        .songs-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }

        .song-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .song-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(138, 79, 125, 0.25);
            border-color: #ff99cc;
        }

        .song-cover {
            width: 100%;
            height: 180px;
            background-image: url("wife1.jpg"); /* 她的默认封面图（需替换） */
            background-size: cover;
            background-position: center;
            min-height: 30%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .song-cover i {
            font-size: 4rem;
            color: #8a4f7d;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .song-card:hover .song-cover i {
            opacity: 1;
        }

        .song-cover .playing-indicator {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: #ff2a70;
            color: white;
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .song-card.playing .song-cover .playing-indicator {
            opacity: 1;
        }
        .song-cover-me {
            width: 100%;
            height: 180px;
            background-image: url("me1.jpg"); /* 她的默认封面图（需替换） */
            background-size: cover;
            background-position: center;
            min-height: 30%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .song-cover-me i {
            font-size: 4rem;
            color: #8a4f7d;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .song-card:hover .song-cover-me i {
            opacity: 1;
        }

        .song-cover-me .playing-indicator {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: #ff2a70;
            color: white;
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .song-card.playing .song-cover-me .playing-indicator {
            opacity: 1;
        }

        .song-info {
            padding: 18px;
        }

        .song-title {
            font-size: 1.2rem;
            color: #8a4f7d;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .song-singer {
            font-size: 0.95rem;
            color: #5c3a6d;
            opacity: 0.8;
        }

        .player-controls {
            background: linear-gradient(to right, #8a4f7d, #a67f8e);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            color: white;
            position: relative;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.3);
        }

        .now-playing {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
            min-width: 200px;
        }

        /* 【关键修改】初始播放器封面样式：添加默认图片 */
        .now-playing-cover {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            /* 页面初始默认封面图（必须替换为你的实际图片路径！） */
            background-image: url("default.png");
            background-size: cover; /* 图片填满容器 */
            background-position: center; /* 图片居中 */
            background-color: #ffcce6; /* 图片加载失败时的备用背景色 */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .now-playing-cover i {
            font-size: 1.8rem;
            color: #8a4f7d;
            transition: opacity 0.3s ease;
            opacity: 0; /* 初始隐藏图标（因有默认封面图） */
        }

        .now-playing-info h4 {
            font-size: 1.1rem;
            margin-bottom: 3px;
        }

        .now-playing-info p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .control-buttons {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 2;
            justify-content: center;
        }

        .control-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.2s ease, color 0.2s ease;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            color: #ffcce6;
            transform: scale(1.1);
        }

        .play-pause-btn {
            width: 55px;
            height: 55px;
            background: white;
            color: #8a4f7d;
            font-size: 1.5rem;
        }

        .play-pause-btn:hover {
            color: #8a4f7d;
            transform: scale(1.15);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 120px;
        }

        .volume-control i {
            font-size: 1.1rem;
        }

        .volume-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            appearance: none;
        }

        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        #audio-player {
            display: none;
        }

        footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 40px;
            font-size: 1.1rem;
            opacity: 0.9;
            color: #5c3a6d;
            border-top: 2px solid rgba(255, 255, 255, 0.5);
        }

        .heart-pulse {
            display: inline-block;
            color: #ff2a70;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        /* 角色信息弹窗样式 */
        .character-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(92, 58, 109, 0.6);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .character-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, #fff0f5 0%, #f0f8ff 100%);
            width: 90%;
            max-width: 600px;
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 15px 40px rgba(138, 79, 125, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.9);
            position: relative;
            transform: translateY(30px);
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .character-modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            color: #8a4f7d;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(138, 79, 125, 0.1);
            color: #ff2a70;
            transform: rotate(90deg);
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(138, 79, 125, 0.1);
        }

        .modal-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #ffcce6;
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.2);
        }

        .modal-title-group {
            flex: 1;
        }

        .modal-title {
            font-size: 2rem;
            color: #8a4f7d;
            margin-bottom: 5px;
            background: linear-gradient(to right, #8a4f7d, #5c3a6d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-subtitle {
            font-size: 1.1rem;
            color: #5c3a6d;
            opacity: 0.9;
        }

        .modal-body {
            line-height: 1.8;
            font-size: 1.1rem;
            color: #5c3a6d;
        }

        .modal-body p {
            margin-bottom: 15px;
        }

        .modal-body strong {
            color: #8a4f7d;
        }

        .modal-footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 2px solid rgba(138, 79, 125, 0.1);
            text-align: right;
            font-style: italic;
            color: #8a4f7d;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2.8rem;
            }

            .subtitle {
                font-size: 1.3rem;
            }

            .countdown {
                flex-wrap: wrap;
                gap: 15px;
            }

            .countdown-item {
                padding: 15px;
            }

            .digit-flip {
                width: 35px;
                height: 50px;
            }

            .digit {
                font-size: 1.8rem;
            }

            .love-letter {
                padding: 25px;
                font-size: 1.1rem;
            }

            .photo-gallery {
                grid-template-columns: 1fr;
            }

            .deer, .fish {
                margin-bottom: 30px;
            }

            .love-songs-library {
                padding: 25px;
            }

            .player-controls {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }

            .now-playing, .control-buttons, .volume-control {
                width: 100%;
                flex: none;
            }

            .control-buttons {
                gap: 10px;
            }

            /* 移动端弹窗适配 */
            .modal-header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .modal-title {
                font-size: 1.6rem;
            }

            .modal-content {
                padding: 25px 20px;
            }

            /* 回忆入口移动端适配 */
            .portal-icon {
                font-size: 4rem;
            }

            .portal-content h3 {
                font-size: 1.5rem;
            }

            .portal-content p {
                font-size: 1rem;
                padding: 0 10px;
            }
        }
    </style>
</head>
<body>
    <div class="hearts" id="hearts"></div>

    <div class="container">
        <header>
            <h1 class="title">我们的爱情</h1>
        </header>

        <div class="deer-fish-container">
            <div class="deer">
                <div class="deer-icon">
                    <img src="deer.png" alt="一只可爱的梅花鹿" class="deer-svg" style="opacity: 77%;" />
                </div>
                <h3>灵动的小鹿</h3>
                <p>像小鹿一样的宝宝，活泼可爱，天真浪漫，自由自在<br>你的笑容照亮了我的世界</p>
            </div>

            <div class="fish">
                <i class="fas fa-fish fish-icon"></i>
                <h3>向往大海的小鱼</h3>
                <p>像小鱼儿一样的我，向往大海，追求更好的环境<br>渴望与你一起游向更美好的世界</p>
            </div>
        </div>
        <span class="subtitle" style="display: block;vertical-align: middle;text-align: center;width: 100%">从相遇的那一刻起，已经走过了</span>
        <!-- 时间计数器 -->
        <div class="countdown">
            <div class="countdown-item">
                <div class="digits-container" id="days-container"></div>
                <div class="countdown-label">天</div>
            </div>
            <div class="countdown-item">
                <div class="digits-container" id="hours-container"></div>
                <div class="countdown-label">时</div>
            </div>
            <div class="countdown-item">
                <div class="digits-container" id="minutes-container"></div>
                <div class="countdown-label">分</div>
            </div>
            <div class="countdown-item">
                <div class="digits-container" id="seconds-container"></div>
                <div class="countdown-label">秒</div>
            </div>
        </div>

        <!-- 爱情信 -->
        <div class="love-letter">
            <h2>给我的小鹿：</h2>
            <p>从我们相遇的那一天起，每一秒都变得特别。你就像林间的小鹿，活泼可爱，天真浪漫，自由自在，你的每一个动作都让我心动不已。</p>
            <p>我是那条向往大海的小鱼，一直渴望游向更广阔的世界。但自从遇见了你，我发现最美好的世界就是有你在的地方。你是我游向大海的动力，也是我最终想要回归的港湾。</p>
            <p>我们一起走过的每一天，都成为了我生命中最珍贵的回忆。无论是欢笑还是泪水，我都感激有你陪伴在我身边。</p>
            <p>未来的路还很长，我希望能一直牵着你的手，像小鹿和小鱼一样，共同探索这个世界的美好，度过每一个春夏秋冬。</p>
            <p>嘻嘻，永远爱你宝宝，老婆，亲爱的，么么</p>
            <p style="text-align: right; margin-top: 25px;">永远爱你的小鱼 <span class="heart-pulse">❤</span></p>
        </div>

        <div class="memories-section">
            <h2>我们的甜蜜回忆</h2>
            <div class="memories-portal" onclick="window.location.href='huiyi.html'">
                <div class="portal-content">
                    <div class="portal-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3>打开我们的回忆册</h3>
                    <p>点击进入，探索我们共同的美好时光</p>
                    <div class="enter-arrow">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="photo-gallery">
            <div class="photo-item" data-character="ran">
                <img src="wife.jpg" alt="毛利兰">
                <div class="photo-caption">毛利兰</div>
            </div>
            <div class="photo-item" data-character="shinichi">
                <img src="me.jpg" alt="工藤新一">
                <div class="photo-caption">工藤新一</div>
            </div>
            <div class="photo-item" data-character="judy">
                <img src="me2.jpg" alt="朱迪-霍普斯（Judy Hopps）">
                <div class="photo-caption">朱迪-霍普斯（Judy Hopps）</div>
            </div>
            <div class="photo-item" data-character="nick">
                <img src="wife2.jpg" alt="尼克-王尔德（Nick Wilde）">
                <div class="photo-caption">尼克-王尔德（Nick Wilde）</div>
            </div>
        </div>

        <div class="love-songs-library">
            <div class="library-header">
                <h2>💌 我们的专属情歌</h2>
                <p>7首她的温柔哼唱 + 1首我的五音不全 + 9个故事</p>
            </div>

            <div class="songs-tabs">
                <button class="tab-btn active" data-tab="her-songs">小鹿的歌 (7首)</button>
                <button class="tab-btn" data-tab="my-songs">小鱼的歌 (1首)+9</button>
            </div>

            <div class="songs-container">
                <div class="song-card"
                     data-tab="her-songs"
                     data-src="纸短情长.m4a"
                     data-title="纸短情长"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">纸短情长</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="her-songs"
                     data-src="盗将行.m4a"
                     data-title="盗将行"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">盗将行</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="her-songs"
                     data-src="成都.m4a"
                     data-title="成都"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">成都</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="her-songs"
                     data-src="富士山下.m4a"
                     data-title="富士山下"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">富士山下</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="her-songs"
                     data-src="借我.m4a"
                     data-title="借我"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">借我</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="her-songs"
                     data-src="这一生关于你的风景.m4a"
                     data-title="这一生关于你的风景"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">这一生关于你的风景</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="her-songs"
                     data-src="云烟成雨.m4a"
                     data-title="云烟成雨"
                     data-singer="我的小鹿"
                     data-cover="wife.jpg">
                    <div class="song-cover">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">云烟成雨</div>
                        <div class="song-singer">演唱：我的小鹿</div>
                    </div>
                </div>

                <div class="song-card"
                     data-tab="my-songs"
                     data-src="众里寻她.mp3"
                     data-title="众里寻她"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">众里寻她</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="孤独的咪咪.mp3"
                     data-title="孤独的咪咪"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">孤独的咪咪</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="离家的小兔.mp3"
                     data-title="离家的小兔"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">离家的小兔</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="有条鲤鱼未成仙(上).mp3"
                     data-title="有条鲤鱼未成仙(上)"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">有条鲤鱼未成仙(上)</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="有条鲤鱼未成仙(下).mp3"
                     data-title="有条鲤鱼未成仙(下)"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">有条鲤鱼未成仙(下)</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="偶像.mp3"
                     data-title="偶像"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">偶像</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="海妖.mp3"
                     data-title="海妖"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg"> <!-- 我的封面图（需替换） -->
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">海妖</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="傻女孩.mp3"
                     data-title="傻女孩"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">傻女孩</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="衣服.mp3"
                     data-title="衣服"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">衣服</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
                <div class="song-card"
                     data-tab="my-songs"
                     data-src="冻疮膏.mp3"
                     data-title="冻疮膏"
                     data-singer="我（小鱼）"
                     data-cover="me1.jpg">
                    <div class="song-cover-me">
                        <i class="fas fa-music"></i>
                        <div class="playing-indicator">播放中</div>
                    </div>
                    <div class="song-info">
                        <div class="song-title">冻疮膏</div>
                        <div class="song-singer">演唱：小鱼</div>
                    </div>
                </div>
            </div>

            <div class="player-controls">
                <div class="now-playing">
                    <div class="now-playing-cover" id="now-playing-cover">
                        <i class="fas fa-music" id="cover-icon"></i>
                    </div>
                    <div class="now-playing-info">
                        <h4 id="now-playing-title">未选择歌曲</h4>
                        <p id="now-playing-singer">点击歌曲开始播放</p>
                    </div>
                </div>

                <div class="control-buttons">
                    <button class="control-btn" id="prev-btn"><i class="fas fa-step-backward"></i></button>
                    <button class="control-btn play-pause-btn" id="play-pause-btn"><i class="fas fa-play"></i></button>
                    <button class="control-btn" id="next-btn"><i class="fas fa-step-forward"></i></button>
                </div>

                <div class="volume-control">
                    <i class="fas fa-volume-up" id="volume-icon"></i>
                    <input type="range" class="volume-slider" id="volume-slider" min="0" max="1" step="0.01" value="0.8">
                </div>
            </div>
        </div>

        <footer>
            <p> crafted with <span class="heart-pulse">❤</span> for my deer | 爱你的每一天</p>
        </footer>
    </div>

    <div class="character-modal" id="characterModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose"><i class="fas fa-times"></i></button>
            <div class="modal-header">
                <img src="" alt="" class="modal-avatar" id="modalAvatar">
                <div class="modal-title-group">
                    <h2 class="modal-title" id="modalTitle"></h2>
                    <p class="modal-subtitle" id="modalSubtitle"></p>
                </div>
            </div>
            <div class="modal-body" id="modalBody">
            </div>
            <div class="modal-footer" id="modalFooter">
            </div>
        </div>
    </div>

    <audio id="audio-player" preload="metadata"></audio>

    <script>
        function createHearts() {
            const heartsContainer = document.getElementById('hearts');
            const heartCount = 50;

            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '❤';
                heart.classList.add('heart');

                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
                heart.style.fontSize = (Math.random() * 15 + 10) + 'px';
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                heart.style.animationDelay = Math.random() * 5 + 's';

                heartsContainer.appendChild(heart);
            }
        }

        function initDigitContainers() {
            createDigitElements('days', 3);    // 最多3位天数
            createDigitElements('hours', 2);   // 最多2位小时
            createDigitElements('minutes', 2); // 最多2位分钟
            createDigitElements('seconds', 2); // 最多2位秒数
        }

        function createDigitElements(unit, digitCount) {
            const container = document.getElementById(`${unit}-container`);
            container.innerHTML = '';

            for (let i = 0; i < digitCount; i++) {
                const digitFlip = document.createElement('div');
                digitFlip.className = 'digit-flip';
                digitFlip.dataset.digitIndex = i;

                const digit = document.createElement('div');
                digit.className = 'digit';
                digit.textContent = '0';

                digitFlip.appendChild(digit);
                container.appendChild(digitFlip);
            }
        }

        function flipSingleDigit(containerId, digitIndex, newValue) {
            const container = document.getElementById(containerId);
            const digitFlips = container.getElementsByClassName('digit-flip');

            if (digitIndex >= digitFlips.length) return;

            const digitFlip = digitFlips[digitIndex];
            const currentDigit = digitFlip.querySelector('.digit');
            const oldValue = parseInt(currentDigit.textContent);

            if (oldValue === newValue) return;

            const newDigit = document.createElement('div');
            newDigit.className = 'digit';
            newDigit.textContent = newValue;
            newDigit.style.transform = 'translateY(100%)';

            digitFlip.appendChild(newDigit);

            setTimeout(() => {
                currentDigit.style.transform = 'translateY(-100%)';
                newDigit.style.transform = 'translateY(0)';
            }, 50);

            setTimeout(() => {
                if (digitFlip.contains(currentDigit)) {
                    digitFlip.removeChild(currentDigit);
                }
            }, 500);
        }

        function updateUnitDigits(unit, value) {
            const container = document.getElementById(`${unit}-container`);
            const digitCount = container.getElementsByClassName('digit-flip').length;
            const valueStr = value.toString().padStart(digitCount, '0');

            for (let i = 0; i < digitCount; i++) {
                const digit = parseInt(valueStr[i]);
                flipSingleDigit(`${unit}-container`, i, digit);
            }
        }

        function updateTimeElapsed() {
            const importantDate = new Date('2025-08-12T17:13:00');
            const now = new Date();
            const diff = now - importantDate;

            if (diff <= 0) {
                updateUnitDigits('days', 0);
                updateUnitDigits('hours', 0);
                updateUnitDigits('minutes', 0);
                updateUnitDigits('seconds', 0);
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            updateUnitDigits('days', days);
            updateUnitDigits('hours', hours);
            updateUnitDigits('minutes', minutes);
            updateUnitDigits('seconds', seconds);
        }

        function initAudioPlayer() {
            const audio = document.getElementById('audio-player');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const volumeSlider = document.getElementById('volume-slider');
            const volumeIcon = document.getElementById('volume-icon');
            const nowPlayingTitle = document.getElementById('now-playing-title');
            const nowPlayingSinger = document.getElementById('now-playing-singer');
            const songCards = document.querySelectorAll('.song-card');
            const nowPlayingCover = document.getElementById('now-playing-cover'); // 封面容器
            const coverIcon = document.getElementById('cover-icon'); // 封面图标
            const tabBtns = document.querySelectorAll('.tab-btn');

            let currentSongIndex = -1;
            let currentTab = 'her-songs';
            let songList = [];

            function updateSongList(tab) {
                currentTab = tab;
                songList = Array.from(songCards).filter(card => card.dataset.tab === tab);
            }
            updateSongList('her-songs');

            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    tabBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    updateSongList(btn.dataset.tab);
                    if (currentSongIndex !== -1 && !songList[currentSongIndex]) {
                        resetPlayerState();
                    }
                });
            });

            function setPlayerCover(coverUrl) {
                if (coverUrl) {
                    nowPlayingCover.style.backgroundImage = `url('${coverUrl}')`;
                    coverIcon.style.opacity = 0; // 隐藏图标
                } else {
                    nowPlayingCover.style.backgroundImage = `url('default.png')`;
                    coverIcon.style.opacity = 0; // 保持图标隐藏
                }
            }

            function playSong(index) {
                if (index < 0 || index >= songList.length) return;

                if (currentSongIndex !== -1) {
                    songCards.forEach(card => card.classList.remove('playing'));
                }

                currentSongIndex = index;
                const currentSong = songList[currentSongIndex];

                audio.src = currentSong.dataset.src;
                nowPlayingTitle.textContent = currentSong.dataset.title;
                nowPlayingSinger.textContent = currentSong.dataset.singer;

                const songCover = currentSong.dataset.cover;
                setPlayerCover(songCover);
                currentSong.classList.add('playing');
                audio.play().then(() => {
                    updatePlayPauseIcon();
                }).catch(err => {
                    console.error('播放失败：', err);
                    alert('歌曲播放失败，请检查音频文件路径是否正确');
                });
            }
            function resetPlayerState() {
                audio.pause();
                audio.src = '';
                currentSongIndex = -1;
                songCards.forEach(card => card.classList.remove('playing'));
                nowPlayingTitle.textContent = '未选择歌曲';
                nowPlayingSinger.textContent = '点击歌曲开始播放';
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                setPlayerCover(null);
            }
            function updatePlayPauseIcon() {
                playPauseBtn.innerHTML = audio.paused
                    ? '<i class="fas fa-play"></i>'
                    : '<i class="fas fa-pause"></i>';
            }
            playPauseBtn.addEventListener('click', () => {
                if (audio.src === '') {
                    songList.length > 0 ? playSong(0) : alert('当前分类没有歌曲');
                } else {
                    audio.paused ? audio.play() : audio.pause();
                    updatePlayPauseIcon();
                }
            });
            prevBtn.addEventListener('click', () => {
                if (songList.length === 0) return;
                const newIndex = (currentSongIndex - 1 + songList.length) % songList.length;
                playSong(newIndex);
            });
            nextBtn.addEventListener('click', () => {
                if (songList.length === 0) return;
                const newIndex = (currentSongIndex + 1) % songList.length;
                playSong(newIndex);
            });
            songCards.forEach((card) => {
                card.addEventListener('click', () => {
                    const tab = card.dataset.tab;
                    document.querySelectorAll('.tab-btn').forEach(btn => {
                        if (btn.dataset.tab === tab) {
                            btn.click();
                        }
                    });
                    const songIndex = songList.findIndex(song => song.dataset.src === card.dataset.src);
                    playSong(songIndex);
                });
            });
            volumeSlider.addEventListener('input', () => {
                audio.volume = volumeSlider.value;
                volumeIcon.className = audio.volume === 0
                    ? 'fas fa-volume-mute'
                    : (audio.volume < 0.5 ? 'fas fa-volume-down' : 'fas fa-volume-up');
            });

            audio.addEventListener('ended', () => {
                if (songList.length === 0) return;
                const newIndex = (currentSongIndex + 1) % songList.length;
                playSong(newIndex);
            });

            setPlayerCover(null);
        }

        function initTabs() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const songCards = document.querySelectorAll('.song-card');

            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    tabBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    const targetTab = btn.dataset.tab;
                    songCards.forEach(card => {
                        card.style.display = card.dataset.tab === targetTab ? 'block' : 'none';
                    });
                });
            });

            songCards.forEach(card => {
                if (card.dataset.tab === 'my-songs') {
                    card.style.display = 'none';
                }
            });
        }

        function initCharacterModal() {
            const characterData = {
                ran: {
                    avatar: 'wife.jpg',
                    title: '毛利兰',
                    subtitle: '我的小鹿，温柔与勇气的化身',
                    body: `
                        <p>你就像毛利兰一样，既有温柔似水的性格，又有坚定勇敢的内心。每次看到你为我着想的样子，就像小兰守护新一那样，让我充满安全感。</p>
                        <p>我迷茫时你会给我鼓励——就像小兰默默等待新一那样，充满了深情与执着。</p>
                        <p>和你在一起的每一天，都像漫画里的甜蜜片段：成为了我心中最珍贵的回忆。</p>
                    `,
                    footer: '—— 永远被你守护的小鱼'
                },
                shinichi: {
                    avatar: 'me.jpg',
                    title: '工藤新一',
                    subtitle: '为你变成更好的我',
                    body: `
                        <p>我愿像工藤新一一样，为你变成更优秀的人。新一为了保护小兰不断追寻真相，而我为了给你更好的生活，也在努力成为更可靠的伴侣。</p>
                        <p>虽然我没有新一的侦探能力，但我会用我的方式守护你：记住你的喜好，包容你的小脾气，陪你做你喜欢的事，在你需要时永远第一时间出现。</p>
                        <p>就像新一对小兰的承诺那样，我也想对你说："不管遇到什么困难，我都会陪在你身边，一起面对未来的每一个挑战。"</p>
                    `,
                    footer: '—— 只想守护你的小鱼'
                },
                judy: {
                    avatar: 'me2.jpg',
                    title: '朱迪-霍普斯',
                    subtitle: '为你勇敢追梦的决心',
                    body: `
                        <p>朱迪从一只小镇兔子，凭借坚持成为了动物城的优秀警官——这就像我对你的心意：为了和你一起实现未来的梦想，我愿意像朱迪一样勇敢无畏。</p>
                        <p>我曾经像朱迪初到动物城时那样迷茫，但遇到你之后，我找到了前进的方向。你的支持就像尼克对朱迪的鼓励，让我有勇气面对各种挑战。</p>
                        <p>我想和你一起，像朱迪和尼克那样，打破所有"不可能"：一起去旅行看世界，一起打造属于我们的小窝，一起把平凡的日子过成诗。</p>
                    `,
                    footer: '—— 为你勇敢的小鱼'
                },
                nick: {
                    avatar: 'wife2.jpg',
                    title: '尼克-王尔德',
                    subtitle: '被你温暖的"小狐狸"',
                    body: `
                        <p>尼克曾经是只封闭内心的狐狸，直到遇到朱迪才敞开心扉——而你就像朱迪改变尼克那样，温暖了我的生活，让我变得更开朗、更懂得爱。</p>
                        <p>就像尼克最终选择和朱迪并肩作战那样，我也想和你一起：一起面对生活的酸甜苦辣，一起创造更多专属我们的回忆，一起走到时间的尽头。</p>
                    `,
                    footer: '—— 被你温暖的小鱼'
                }
            };

            const modal = document.getElementById('characterModal');
            const modalAvatar = document.getElementById('modalAvatar');
            const modalTitle = document.getElementById('modalTitle');
            const modalSubtitle = document.getElementById('modalSubtitle');
            const modalBody = document.getElementById('modalBody');
            const modalFooter = document.getElementById('modalFooter');
            const modalClose = document.getElementById('modalClose');
            const photoItems = document.querySelectorAll('.photo-item');

            photoItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const characterKey = item.dataset.character;
                    const character = characterData[characterKey];

                    if (character) {
                        modalAvatar.src = character.avatar;
                        modalAvatar.alt = character.title;
                        modalTitle.textContent = character.title;
                        modalSubtitle.textContent = character.subtitle;
                        modalBody.innerHTML = character.body;
                        modalFooter.textContent = character.footer;

                        modal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }
                });
            });

            function closeModal() {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }

            modalClose.addEventListener('click', closeModal);

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    closeModal();
                }
            });
        }

        window.onload = function() {
            createHearts();
            initDigitContainers();
            updateTimeElapsed();
            setInterval(updateTimeElapsed, 1000);
            initTabs();
            initAudioPlayer();
            initCharacterModal();
        };
    </script>
</body>
</html>