<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我们的回忆 - 游戏、旅行与日常</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffcce6 0%, #c9e6ff 100%);
            color: #5c3a6d;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding-bottom: 60px;
        }

        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: #ff2a70;
            opacity: 0.7;
            animation: fall 8s linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-10%) rotate(0deg);
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .title {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
            color: #8a4f7d;
            background: linear-gradient(to right, #8a4f7d, #5c3a6d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            font-weight: 300;
            color: #5c3a6d;
        }

        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #8a4f7d;
            background: rgba(255, 255, 255, 0.7);
            border: none;
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(138, 79, 125, 0.15);
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 10; /* 确保按钮在最上层，能被点击 */
        }

        .back-button:hover {
            color: #ff2a70;
            transform: translateX(-3px);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 3px 12px rgba(138, 79, 125, 0.25);
        }

        /* 回忆分类标签 */
        .memories-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .memory-tab-btn {
            background: rgba(255, 240, 245, 0.8);
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            color: #5c3a6d;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(138, 79, 125, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .memory-tab-btn.active {
            background: linear-gradient(to right, #a67f8e, #8a4f7d);
            color: white;
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.3);
        }

        .memory-tab-btn i {
            font-size: 1.2rem;
        }

        .memories-content {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            backdrop-filter: blur(5px);
            box-shadow: 0 8px 32px rgba(138, 79, 125, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .memory-section {
            display: none;
        }

        .memory-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            margin-bottom: 30px;
            text-align: center;
        }

        .section-title {
            font-size: 2rem;
            color: #8a4f7d;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .section-description {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .timeline {
            position: relative;
            max-width: 800px;
            margin: 40px auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 4px;
            background-color: #ffcce6;
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -2px;
            border-radius: 2px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
            margin-bottom: 30px;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: white;
            border: 4px solid #8a4f7d;
            border-radius: 50%;
            top: 20px;
            z-index: 1;
        }

        .timeline-left {
            left: 0;
        }

        .timeline-right {
            left: 50%;
        }

        .timeline-left::after {
            right: -12px;
        }

        .timeline-right::after {
            left: -12px;
        }

        .timeline-content {
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.9);
        }

        .timeline-date {
            font-size: 0.9rem;
            color: #8a4f7d;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .timeline-title {
            font-size: 1.3rem;
            color: #8a4f7d;
            margin-bottom: 10px;
        }

        .timeline-description {
            line-height: 1.6;
        }

        .timeline-image {
            width: 100%;
            border-radius: 10px;
            margin-top: 15px;
            height: 200px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .timeline-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(92, 58, 109, 0.2);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .timeline-image:hover {
            transform: scale(1.03);
        }

        .timeline-image:hover::after {
            opacity: 1;
        }

        .memory-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(92, 58, 109, 0.8);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .memory-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            background: white;
            width: 90%;
            max-width: 900px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(138, 79, 125, 0.4);
            transform: translateY(30px);
            transition: transform 0.4s ease;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .memory-modal.active .modal-container {
            transform: translateY(0);
        }

        .modal-image-container {
            width: 100%;
            max-height: 50vh;
            overflow: hidden;
        }

        .modal-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-details {
            padding: 30px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-title {
            color: #8a4f7d;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .modal-date {
            color: #5c3a6d;
            opacity: 0.8;
            margin-bottom: 20px;
            font-style: italic;
        }

        .modal-description {
            color: #5c3a6d;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .modal-description p {
            margin-bottom: 15px;
        }

        .modal-description p:last-child {
            margin-bottom: 0;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s ease;
            z-index: 101;
        }

        .modal-close:hover {
            background: #ff2a70;
            transform: rotate(90deg);
        }

        .coming-soon-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(92, 58, 109, 0.8);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .coming-soon-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .coming-soon-container {
            background: white;
            width: 90%;
            max-width: 600px;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 15px 40px rgba(138, 79, 125, 0.4);
            transform: translateY(30px);
            transition: transform 0.4s ease;
        }

        .coming-soon-modal.active .coming-soon-container {
            transform: translateY(0);
        }

        .coming-soon-icon {
            font-size: 5rem;
            color: #ff2a70;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .coming-soon-title {
            font-size: 2rem;
            color: #8a4f7d;
            margin-bottom: 15px;
        }

        .coming-soon-message {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #5c3a6d;
            margin-bottom: 30px;
        }

        .coming-soon-button {
            background: linear-gradient(to right, #a67f8e, #8a4f7d);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(138, 79, 125, 0.2);
        }

        .coming-soon-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(138, 79, 125, 0.3);
        }

        footer {
            text-align: center;
            padding: 30px 0;
            font-size: 1.1rem;
            opacity: 0.9;
            color: #5c3a6d;
            border-top: 2px solid rgba(255, 255, 255, 0.5);
            margin-top: 60px;
        }

        .heart-pulse {
            display: inline-block;
            color: #ff2a70;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }

            .subtitle {
                font-size: 1.2rem;
            }

            .memories-tabs {
                gap: 10px;
            }

            .memory-tab-btn, .back-button {
                padding: 10px 18px;
                font-size: 1rem;
            }

            .memories-content {
                padding: 25px;
            }

            .section-title {
                font-size: 1.6rem;
            }

            .timeline::after {
                left: 31px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }

            .timeline-left::after, .timeline-right::after {
                left: 19px;
            }

            .timeline-right {
                left: 0;
            }

            .modal-image-container {
                max-height: 30vh;
            }

            .modal-details {
                padding: 20px;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .coming-soon-container {
                padding: 30px 20px;
            }

            .coming-soon-title {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="hearts" id="hearts"></div>

    <div class="container">
        <!-- 返回主页按钮 -->
<!--        <button class="back-button" id="backToHome">-->
<!--            <i class="fas fa-arrow-left"></i> 返回主页-->
<!--        </button>-->

        <header>
            <h1 class="title">我们的回忆时光</h1>
            <p class="subtitle">记录我们一起走过的游戏世界、旅行足迹和日常生活的点点滴滴</p>
        </header>

        <div class="memories-tabs">
            <button class="memory-tab-btn active" data-tab="games">
                <i class="fas fa-gamepad"></i> 游戏时光
            </button>
            <button class="memory-tab-btn" data-tab="travel">
                <i class="fas fa-plane"></i> 旅行日记
            </button>
            <button class="memory-tab-btn" data-tab="daily">
                <i class="fas fa-home"></i> 日常生活
            </button>
        </div>

        <div class="memories-content">
            <div class="memory-section active" id="games-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-gamepad"></i> 我们的游戏时光
                    </h2>
                    <p class="section-description">
                        那些一起熬夜打游戏的夜晚，那些互相鼓励的瞬间，都成为了我们独特的回忆。有宝宝在，我可以随意操作。哈哈
                    </p>
                </div>

                <div class="timeline">
                    <div class="timeline-item timeline-left">
                        <div class="timeline-content">
                            <div class="timeline-date">2025年8月22日</div>
                            <h3 class="timeline-title">《王者荣耀》</h3>
                            <p class="timeline-description">
                                那天我们绑定了游戏关系，嘻嘻，宝宝是我老婆！
                            </p>
                            <img src="game4.jpg" alt="一起玩游戏的照片" class="timeline-image" data-id="game1">
                        </div>
                    </div>

                    <div class="timeline-item timeline-right">
                        <div class="timeline-content">
                            <div class="timeline-date">2025年8月24日</div>
                            <h3 class="timeline-title">我们的五杀</h3>
                            <p class="timeline-description">
                                我跟宝宝的五杀，我俩就能带飞！
                            </p>
                            <img src="game3.jpg" alt="一起玩游戏的照片" class="timeline-image" data-id="game2">
                        </div>
                    </div>

                    <div class="timeline-item timeline-left">
                        <div class="timeline-content">
                            <div class="timeline-date">2025年8月24日</div>
                            <h3 class="timeline-title">宝宝好厉害</h3>
                            <p class="timeline-description">
                                我玩射手，越塔被开，不知道吃了多少技能，宝宝拼命保护我的样子太帅了！最后也是完美的活了下来！
                            </p>
                            <img src="game5.jpg" alt="一起玩游戏的照片" class="timeline-image" data-id="game3">
                        </div>
                    </div>

                    <div class="timeline-item timeline-right">
                        <div class="timeline-content">
                            <div class="timeline-date">2025年8月25日</div>
                            <h3 class="timeline-title">我们的连胜</h3>
                            <p class="timeline-description">
                                跟宝宝的连胜被终结了，不过23连胜也可以了，嘻嘻！
                            </p>
                            <img src="game2.jpg" alt="一起玩游戏的照片" class="timeline-image" data-id="game4">
                        </div>
                    </div>
                </div>
            </div>

            <div class="memory-section" id="travel-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-plane"></i> 我们的旅行日记
                    </h2>
                    <p class="section-description">
                        这里将记录我们一起走过的地方，看过的风景。
                    </p>
                </div>
            </div>

            <div class="memory-section" id="daily-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-home"></i> 我们的日常生活
                    </h2>
                    <p class="section-description">
                        平凡的日子因为有你而变得特别。
                    </p>
                </div>
            </div>
        </div>

        <div class="memory-modal" id="memoryModal">
            <button class="modal-close" id="modalClose"><i class="fas fa-times"></i></button>
            <div class="modal-container">
                <div class="modal-image-container">
                    <img src="" alt="" class="modal-image" id="modalImage">
                </div>
                <div class="modal-details">
                    <h3 class="modal-title" id="modalTitle"></h3>
                    <div class="modal-date" id="modalDate"></div>
                    <div class="modal-description" id="modalDescription"></div>
                </div>
            </div>
        </div>

        <div class="coming-soon-modal" id="comingSoonModal">
            <div class="coming-soon-container">
                <div class="coming-soon-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <h3 class="coming-soon-title">嘻嘻，这里还是小秘密呢！</h3>
                <div class="coming-soon-message" id="comingSoonMessage">
                    这些回忆正在收集打包中...<br>
                    想跟宝宝去旅游，想跟宝宝过二人世界，想跟宝宝做任何事~<br>
                     想跟宝宝结婚，嘻嘻❤️
                </div>
                <button class="coming-soon-button" id="comingSoonClose">好呀，我愿意！</button>
            </div>
        </div>

        <footer>
            <p>每一段回忆，都因有你而珍贵 <span class="heart-pulse">❤</span></p>
        </footer>
    </div>

    <script>
        function log(message) {
            console.log("[回忆页面] " + message);
        }

        log("页面开始加载...");

        function createHearts() {
            log("创建心形背景");
            const heartsContainer = document.getElementById('hearts');
            const heartCount = 50;

            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '❤';
                heart.classList.add('heart');

                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
                heart.style.fontSize = (Math.random() * 15 + 10) + 'px';
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                heart.style.animationDelay = Math.random() * 5 + 's';

                heartsContainer.appendChild(heart);
            }
        }

        function initBackToHome() {
            log("初始化返回主页按钮");

            // 直接获取按钮元素
            const backButton = document.getElementById('backToHome');

            // 检查按钮是否存在
            if (!backButton) {
                log("错误：未找到返回主页按钮元素！");
                return;
            }

            log("找到返回主页按钮，准备绑定事件");

            // 设置要跳转的主页URL - 请根据实际情况修改
            const homeUrl = "start.html";
            log(`设置主页URL: ${homeUrl}`);

            // 方法1: 使用addEventListener绑定事件
            backButton.addEventListener('click', function() {
                log("返回主页按钮被点击（addEventListener）");
                // 先显示提示，确认事件触发
                alert("即将返回主页！");
                // 执行跳转
                window.location.href = homeUrl;
            });

            // 方法2: 直接绑定onclick事件作为备用
            backButton.onclick = function() {
                log("返回主页按钮被点击（onclick）");
                // 这里可以注释掉，或者保留作为双重保险
                // window.location.href = homeUrl;
            };

            // 确保按钮没有被其他元素遮挡
            backButton.style.pointerEvents = "auto";
            log("返回主页按钮事件绑定完成");
        }

        function initMemoryTabs() {
            log("初始化回忆分类标签");
            // 原有代码保持不变...
            const tabBtns = document.querySelectorAll('.memory-tab-btn');
            const sections = document.querySelectorAll('.memory-section');
            const comingSoonModal = document.getElementById('comingSoonModal');
            const comingSoonClose = document.getElementById('comingSoonClose');

            function closeComingSoonModal() {
                comingSoonModal.classList.remove('active');
                document.body.style.overflow = '';
            }

            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const isComingSoon = btn.dataset.tab === 'travel' || btn.dataset.tab === 'daily';

                    if (isComingSoon) {
                        comingSoonModal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                        return;
                    }

                    tabBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    const tabId = btn.dataset.tab;
                    sections.forEach(section => section.classList.remove('active'));
                    document.getElementById(`${tabId}-section`).classList.add('active');
                });
            });

            comingSoonClose.addEventListener('click', closeComingSoonModal);
            comingSoonModal.addEventListener('click', (e) => {
                if (e.target === comingSoonModal) closeComingSoonModal();
            });
        }

        function initModals() {
            log("初始化弹窗功能");
            const memoriesData = {
                game1: {
                    image: 'game4.jpg',
                    title: '《王者荣耀》',
                    date: '2025年8月22日',
                    description: `<p>那天我们绑定了游戏关系，嘻嘻，宝宝是我老婆！</p>`
                },
                game2: {
                    image: 'game3.jpg',
                    title: '我们的五杀',
                    date: '2025年8月24日',
                    description: `<p>我跟宝宝的五杀，我俩就能带飞！</p>`
                },
                game3: {
                    image: 'game5.jpg',
                    title: '宝宝好厉害',
                    date: '2025年8月24日',
                    description: `<p>我玩射手，越塔被开，不知道吃了多少技能，宝宝拼命保护我的样子太帅了！最后也是完美的活了下来！宝宝真的太棒了！</p>`
                },
                game4: {
                    image: 'game2.jpg',
                    title: '我们的连胜',
                    date: '2025年8月25日',
                    description: `<p>跟宝宝的连胜被终结了，不过23连胜也可以了，嘻嘻！</p>`
                }
            };

            const memoryModal = document.getElementById('memoryModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalDate = document.getElementById('modalDate');
            const modalDescription = document.getElementById('modalDescription');
            const memoryCloseBtn = document.getElementById('modalClose');
            const memoryItems = document.querySelectorAll('.timeline-image');

            function closeAllModals() {
                memoryModal.classList.remove('active');
                document.body.style.overflow = '';
            }

            memoryItems.forEach(item => {
                item.addEventListener('click', () => {
                    const memoryId = item.dataset.id;
                    const memory = memoriesData[memoryId];
                    if (memory) {
                        modalImage.src = memory.image;
                        modalTitle.textContent = memory.title;
                        modalDate.textContent = memory.date;
                        modalDescription.innerHTML = memory.description;
                        memoryModal.classList.add('active');
                    }
                    document.body.style.overflow = 'hidden';
                });
            });

            memoryCloseBtn.addEventListener('click', closeAllModals);
            memoryModal.addEventListener('click', (e) => {
                if (e.target === memoryModal) closeAllModals();
            });
        }

        // 确保DOM加载完成后再初始化
        if (document.readyState === "loading") {
            document.addEventListener("DOMContentLoaded", function() {
                log("DOM内容加载完成");
                createHearts();
                initBackToHome();
                initMemoryTabs();
                initModals();
                log("所有功能初始化完成");
            });
        } else {
            log("DOM已加载完成，直接初始化功能");
            createHearts();
            initBackToHome();
            initMemoryTabs();
            initModals();
            log("所有功能初始化完成");
        }

        window.goToHome = function() {
            const homeUrl = "index.html";
            log("手动调用返回主页功能");
            window.location.href = homeUrl;
        };
    </script>
</body>
</html>
